# Отчетные таблицы для сравнения старой и новой модели

### Шаг 1. Построение таблицы по каждой модели


| bind_type | model 1 | ... | model № |
| :-------: | :-----: | :-: | :-----: |
| Bind | Bad % / Good % | :-: | Bad % / Good % |



### Шаг 2. Создание графика 

Отрисовываем график, чтобы посмотреть глазами, какая разница соотношений good / bad на каждом бине. Разница между старой моделью и новой моделью высчитываеся при помощи `метода наименьших квадратов`. 

![OLS](https://github.com/NameArtem/papers/blob/master/Ordinary%20Least%20Squares.png)


### Шаг 3. Подсчет девергенции по модолям


Дивергениция показывает разницу между средними значениями на каждой группе (bind), то есть показывает расхождение между моделями. Данный отчет нужен, чтобы просмотреть на сколько отличается значения good/bad по каждой модели

![div](https://github.com/NameArtem/papers/blob/master/gif.gif)


### Шаг 4. Построение таблицы выигрышей


|    | score group | количество в группе | факт.good | факт.bad | model good | model bad |
|:--:| :-------: | :------: | :--------: | :---------------: | :---------------: | :-------------------: |
|Model Old| | | | | | | | 
| Model 1 | | | | | | | |
| ....... | | | | | | | |


### Шаг 5. Проверка стабильности модели


|    | bind_type | actual % | expected % | actual - expected | actual / expected | ln(actual / expected) | index |
|:--:| :-------: | :------: | :--------: | :---------------: | :---------------: | :-------------------: | :---: |
|Model Old| | | | | | | | |
| Model 1 | | | | | | | | |
| ....... | | | | | | | | |

index расчитывается по формуле:

![index](https://github.com/NameArtem/papers/blob/master/pci.gif)

Значение index:

`index` < 0.10 - не имеет значение

0.1 ~= `index` < 0.25 - незначительные

`index` > 0.25 - значительные изменения


### Шаг 6. Формируем скоринговый отчет


|    |     | score | кол-во входящего потока | % прошедших модель | % миграции и группы binds |
|:--:| :--:| :---: | :---------------------: | :----------------: | :-----------------------: |
|Model Old| binds_type 1 | | | | |
|Model Old| binds_type ..| | | | |
|Model Old| binds_type № | | | | |
|Model 1 | binds_type 1 | | | | |
|Model 1| binds_type ..| | | | |
|Model 1| binds_type № | | | | |
|Model ..| binds_type ..| | | | |
|Model ..| binds_type ..| | | | |
| .. | ..| | | | |
